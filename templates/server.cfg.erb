topicprefix = /topic/mcollective
libdir = <%= plugin_path %>:<%= site_plugin_path_root %>
logfile = /var/log/mcollective.log
loglevel = info
daemonize = 1

# Plugins 
securityprovider = <%= securityprovider %>
<% case securityprovider
   when "psk" -%>
plugin.psk = <%= plugin_psk %>
<% when "aes_security" -%>
plugin.aes.client_cert_dir = <%= aes_client_cert_dir %>
plugin.aes.send_pubkey = <%= aes_send_pubkey %>
plugin.aes.learn_pubkeys =  <%= aes_learn_pubkeys %>
plugin.aes.server_private = <%= aes_server_private %>
plugin.aes.server_public = <%= aes_server_public %>
<% end -%>

connector = stomp
plugin.stomp.host = <%= stomp_host %>
plugin.stomp.port = 6163
plugin.stomp.user = <%= stomp_user %>
plugin.stomp.password = <%= stomp_password %>
plugin.service.hasstatus = true
plugin.service.hasrestart = true

# Facts
factsource = <%= factsource %>
plugin.yaml = /etc/mcollective/facts.yaml
classesfile = /var/lib/puppet/state/classes.txt

<% if operatingsystem == "Solaris" -%>
# Puppet plugin on solaris
plugin.puppetd.puppetd = /opt/csw/sbin/puppetd
<% end -%>
